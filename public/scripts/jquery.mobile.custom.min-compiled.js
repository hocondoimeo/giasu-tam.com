(function(e,q,s){"function"==typeof define&&define.amd?define(["jquery"],function(r){return s(r,e,q),r.mobile}):s(e.jQuery,e,q)})(this,document,function(e,q,s,r){(function(a,n){var e={touch:"ontouchend"in s};a.mobile=a.mobile||{};a.mobile.support=a.mobile.support||{};a.extend(a.support,e);a.extend(a.mobile.support,e)})(e);(function(a,n,e,s){function g(b){for(;b&&"undefined"!=typeof b.originalEvent;)b=b.originalEvent;return b}function m(b){for(var k={},f,c;b;){f=a.data(b,w);for(c in f)f[c]&&(k[c]=
k.hasVirtualBinding=!0);b=b.parentNode}return k}function x(){u&&(clearTimeout(u),u=0);u=setTimeout(function(){y=u=0;A.length=0;D=!1;z=!0},a.vmouse.resetTimerDuration)}function c(b,k,f){var c,d;if(!(d=f&&f[b])){if(f=!f)a:{for(f=k.target;f;){if((d=a.data(f,w))&&(!b||d[b]))break a;f=f.parentNode}f=null}d=f}if(d){c=k;f=c.type;var h,p;c=a.Event(c);c.type=b;b=c.originalEvent;d=a.event.props;-1<f.search(/^(mouse|click)/)&&(d=O);if(b)for(p=d.length,h;p;)h=d[--p],c[h]=b[h];-1<f.search(/mouse(down|up)|click/)&&
!c.which&&(c.which=1);if(-1!==f.search(/^touch/)&&(h=g(b),f=h.touches,h=h.changedTouches,b=f&&f.length?f[0]:h&&h.length?h[0]:s))for(f=0,d=H.length;f<d;f++)h=H[f],c[h]=b[h];a(k.target).trigger(c)}return c}function d(b){var k=a.data(b.target,r);D||y&&y===k||(k=c("v"+b.type,b))&&(k.isDefaultPrevented()&&b.preventDefault(),k.isPropagationStopped()&&b.stopPropagation(),k.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function p(b){var k=g(b).touches,f;k&&1===k.length&&(f=b.target,k=m(f),
k.hasVirtualBinding&&(y=P++,a.data(f,r,y),u&&(clearTimeout(u),u=0),v=z=!1,f=g(b).touches[0],I=f.pageX,J=f.pageY,c("vmouseover",b,k),c("vmousedown",b,k)))}function K(b){z||(v||c("vmousecancel",b,m(b.target)),v=!0,x())}function l(b){if(!z){var k=g(b).touches[0],f=v,d=a.vmouse.moveDistanceThreshold,p=m(b.target);(v=v||Math.abs(k.pageX-I)>d||Math.abs(k.pageY-J)>d)&&!f&&c("vmousecancel",b,p);c("vmousemove",b,p);x()}}function L(b){if(!z){z=!0;var a=m(b.target),f;c("vmouseup",b,a);if(!v){var d=c("vclick",
b,a);d&&d.isDefaultPrevented()&&(f=g(b).changedTouches[0],A.push({touchID:y,x:f.clientX,y:f.clientY}),D=!0)}c("vmouseout",b,a);v=!1;x()}}function M(b){b=a.data(b,w);var c;if(b)for(c in b)if(b[c])return!0;return!1}function N(){}function q(b){var c=b.substr(1);return{setup:function(f,e){M(this)||a.data(this,w,{});a.data(this,w)[b]=!0;t[b]=(t[b]||0)+1;1===t[b]&&B.bind(c,d);a(this).bind(c,N);E&&(t.touchstart=(t.touchstart||0)+1,1===t.touchstart&&B.bind("touchstart",p).bind("touchend",L).bind("touchmove",
l).bind("scroll",K))},teardown:function(f,e){--t[b];t[b]||B.unbind(c,d);E&&(--t.touchstart,t.touchstart||B.unbind("touchstart",p).unbind("touchmove",l).unbind("touchend",L).unbind("scroll",K));var g=a(this),h=a.data(this,w);h&&(h[b]=!1);g.unbind(c,N);M(this)||g.removeData(w)}}}var w="virtualMouseBindings",r="virtualTouchID";n="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var H="clientX clientY pageX pageY screenX screenY".split(" "),O=a.event.props.concat(a.event.mouseHooks?
a.event.mouseHooks.props:[]),t={},u=0,I=0,J=0,v=!1,A=[],D=!1,z=!1,E="addEventListener"in e,B=a(e),P=1,y=0,F;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var C=0;C<n.length;C++)a.event.special[n[C]]=q(n[C]);E&&e.addEventListener("click",function(b){var c=A.length,f=b.target,d,p,h,l,e;if(c)for(d=b.clientX,p=b.clientY,F=a.vmouse.clickDistanceThreshold,h=f;h;){for(l=0;l<c;l++)if(e=A[l],h===f&&Math.abs(e.x-d)<F&&Math.abs(e.y-p)<F||a.data(h,r)===e.touchID){b.preventDefault();
b.stopPropagation();return}h=h.parentNode}},!0)})(e,q,s);(function(a,e,r){function q(c,d,p){var e=p.type;p.type=d;a.event.handle.call(c,p);p.type=e}a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(c,d){a.fn[d]=function(a){return a?this.bind(d,a):this.trigger(d)};a.attrFn&&(a.attrFn[d]=!0)});var g=(e=a.mobile.support.touch)?"touchstart":"mousedown",m=e?"touchend":"mouseup",x=e?"touchmove":"mousemove";a.event.special.scrollstart=
{enabled:!0,setup:function(){function c(a,c){e=c;q(d,e?"scrollstart":"scrollstop",a)}var d=this,e,g;a(d).bind("touchmove scroll",function(d){a.event.special.scrollstart.enabled&&(e||c(d,!0),clearTimeout(g),g=setTimeout(function(){c(d,!1)},50))})}};a.event.special.tap={tapholdThreshold:750,setup:function(){var c=this,d=a(c);d.bind("vmousedown",function(e){function g(){clearTimeout(n)}function l(){g();d.unbind("vclick",m).unbind("vmouseup",g);a(s).unbind("vmousecancel",l)}function m(a){l();r===a.target&&
q(c,"tap",a)}if(e.which&&1!==e.which)return!1;var r=e.target,n;d.bind("vmouseup",g).bind("vclick",m);a(s).bind("vmousecancel",l);n=setTimeout(function(){q(c,"taphold",a.Event("taphold",{target:r}))},a.event.special.tap.tapholdThreshold)})}};a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var c=a(this);c.bind(g,function(d){function e(c){if(l){var d=c.originalEvent.touches?c.originalEvent.touches[0]:
c;n={time:(new Date).getTime(),coords:[d.pageX,d.pageY]};Math.abs(l.coords[0]-n.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&c.preventDefault()}}var g=d.originalEvent.touches?d.originalEvent.touches[0]:d,l={time:(new Date).getTime(),coords:[g.pageX,g.pageY],origin:a(d.target)},n;c.bind(x,e).one(m,function(d){c.unbind(x,e);l&&n&&n.time-l.time<a.event.special.swipe.durationThreshold&&Math.abs(l.coords[0]-n.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(l.coords[1]-
n.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&l.origin.trigger("swipe").trigger(l.coords[0]>n.coords[0]?"swipeleft":"swiperight");l=n=r})})}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(c,d){a.event.special[c]={setup:function(){a(this).bind(d,a.noop)}}})})(e,this)});
(function(){var e=$.support.touch,q=e?"touchstart":"mousedown",s=e?"touchend":"mouseup",r=e?"touchmove":"mousemove";$.event.special.swipeupdown={setup:function(){var a=$(this);a.bind(q,function(e){function q(a){if(g){var c=a.originalEvent.touches?a.originalEvent.touches[0]:a;m={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};10<Math.abs(g.coords[1]-m.coords[1])&&a.preventDefault()}}var G=e.originalEvent.touches?e.originalEvent.touches[0]:e,g={time:(new Date).getTime(),coords:[G.pageX,G.pageY],
origin:$(e.target)},m;a.bind(r,q).one(s,function(e){a.unbind(r,q);g&&m&&1E3>m.time-g.time&&30<Math.abs(g.coords[1]-m.coords[1])&&75>Math.abs(g.coords[0]-m.coords[0])&&g.origin.trigger("swipeupdown").trigger(g.coords[1]>m.coords[1]?"swipeup":"swipedown");g=m=void 0})})}};$.each({swipedown:"swipeupdown",swipeup:"swipeupdown"},function(a,e){$.event.special[a]={setup:function(){$(this).bind(e,$.noop)}}})})();
